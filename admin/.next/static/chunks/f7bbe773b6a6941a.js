(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6866,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(8529);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},99774,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(8529);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let i=e.r(32120),n=e.r(92245),l=e.r(35326)},7233,27612,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},99645,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(61421),s=e.i(99774),i=e.i(6866),n=e.i(75254);let l=(0,n.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var o=e.i(7233),c=e.i(27612);let d=(0,n.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var u=e.i(31278);let f=(0,n.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var p=e.i(95187),m=(0,p.createServerReference)("001176a0786903764ccd0585cbf08bff3904179d32",p.callServer,void 0,p.findSourceMapURL,"getPosts"),h=(0,p.createServerReference)("40f13b680819a63d9eeb6beb80c5fb8ef41aa18932",p.callServer,void 0,p.findSourceMapURL,"createPost"),x=(0,p.createServerReference)("40bc3a947586507e81951670778f11b8355e77fe9f",p.callServer,void 0,p.findSourceMapURL,"deletePost"),v=(0,p.createServerReference)("60c5609666133ceca835a553abbcd798eccdc4851b",p.callServer,void 0,p.findSourceMapURL,"updatePost"),g=e.i(8529),y=e.i(46932);e.i(47167);var b=e.i(31178),j=e.i(47414),N=e.i(74008),w=e.i(21476),C=e.i(72846),S=r,R=e.i(37806);function k(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class M extends S.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,C.isHTMLElement)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P({children:e,isPresent:a,anchorX:s,root:i}){let n=(0,S.useId)(),l=(0,S.useRef)(null),o=(0,S.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,S.useContext)(R.MotionConfigContext),d=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=k(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():k(e[t],null)}}}}(...e),e)}(l,e?.ref);return(0,S.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:d,right:u}=o.current;if(a||!l.current||!e||!t)return;let f="left"===s?`left: ${d}`:`right: ${u}`;l.current.dataset.motionPopId=n;let p=document.createElement("style");c&&(p.nonce=c);let m=i??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${f}px !important;
            top: ${r}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[a]),(0,t.jsx)(M,{isPresent:a,childRef:l,sizeRef:o,children:S.cloneElement(e,{ref:d})})}let E=({children:e,initial:a,isPresent:s,onExitComplete:i,custom:n,presenceAffectsLayout:l,mode:o,anchorX:c,root:d})=>{let u=(0,j.useConstant)(L),f=(0,r.useId)(),p=!0,m=(0,r.useMemo)(()=>(p=!1,{id:f,initial:a,isPresent:s,custom:n,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;i&&i()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,i]);return l&&p&&(m={...m}),(0,r.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),r.useEffect(()=>{s||u.size||!i||i()},[s]),"popLayout"===o&&(e=(0,t.jsx)(P,{isPresent:s,anchorX:c,root:d,children:e})),(0,t.jsx)(w.PresenceContext.Provider,{value:m,children:e})};function L(){return new Map}var D=e.i(64978);let T=e=>e.key||"";function U(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let z=({children:e,custom:a,initial:s=!0,onExitComplete:i,presenceAffectsLayout:n=!0,mode:l="sync",propagate:o=!1,anchorX:c="left",root:d})=>{let[u,f]=(0,D.usePresence)(o),p=(0,r.useMemo)(()=>U(e),[e]),m=o&&!u?[]:p.map(T),h=(0,r.useRef)(!0),x=(0,r.useRef)(p),v=(0,j.useConstant)(()=>new Map),[g,y]=(0,r.useState)(p),[w,C]=(0,r.useState)(p);(0,N.useIsomorphicLayoutEffect)(()=>{h.current=!1,x.current=p;for(let e=0;e<w.length;e++){let t=T(w[e]);m.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[w,m.length,m.join("-")]);let S=[];if(p!==g){let e=[...p];for(let t=0;t<w.length;t++){let r=w[t],a=T(r);m.includes(a)||(e.splice(t,0,r),S.push(r))}return"wait"===l&&S.length&&(e=S),C(U(e)),y(p),null}let{forceRender:R}=(0,r.useContext)(b.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:w.map(e=>{let r=T(e),g=(!o||!!u)&&(p===w||m.includes(r));return(0,t.jsx)(E,{isPresent:g,initial:(!h.current||!!s)&&void 0,custom:a,presenceAffectsLayout:n,mode:l,root:d,onExitComplete:g?void 0:()=>{if(!v.has(r))return;v.set(r,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(R?.(),C(x.current),o&&f?.(),i&&i())},anchorX:c,children:e},r)})})};function B(){let[e,n]=(0,r.useState)([]),[p,b]=(0,r.useState)(!0),[j,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(null),[S,R]=(0,r.useState)(""),[k,M]=(0,r.useState)(""),[P,E]=(0,r.useState)("DRAFT"),L=async()=>{b(!0);try{let e=await m();n(e)}catch(e){console.error(e)}finally{b(!1)}};(0,r.useEffect)(()=>{L()},[]);let D=async e=>{e.preventDefault();let t=new FormData;t.append("title",S),t.append("content",k),t.append("status",P),w?await v(w.id,t):await h(t),T(),L()},T=()=>{N(!1),C(null),R(""),M(""),E("DRAFT")},U=async e=>{confirm("Delete this post?")&&(await x(e),L())};return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold font-display text-primary",children:"Content Management"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Curate insights and news for your investors."})]}),(0,t.jsxs)(a.Button,{onClick:()=>N(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,t.jsx)(o.Plus,{className:"w-4 h-4 mr-2"})," New Post"]})]}),(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search posts...",className:"pl-10 bg-white"})]})}),p?(0,t.jsx)("div",{className:"flex justify-center p-12",children:(0,t.jsx)(u.Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):(0,t.jsx)("div",{className:"grid gap-6",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(l,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),"No posts found. Start writing today."]}):e.map(e=>(0,t.jsx)(s.Card,{className:"group hover:shadow-md transition-all border-l-4 border-l-transparent hover:border-l-accent",children:(0,t.jsxs)(s.CardContent,{className:"p-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg text-primary",children:e.title}),(0,t.jsx)("span",{className:(0,g.cn)("px-2.5 py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold","PUBLISHED"===e.status?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"),children:e.status})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["By ",(0,t.jsx)("span",{className:"text-primary font-medium",children:e.author?.name||"Admin"})," â€¢ ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{C(e),R(e.title),M(""),E(e.status),N(!0)},children:(0,t.jsx)(d,{className:"w-4 h-4 text-gray-500"})}),(0,t.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:text-red-600",onClick:()=>U(e.id),children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4"})})]})]})},e.id))}),(0,t.jsx)(z,{children:j&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(y.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:T}),(0,t.jsxs)(y.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-background w-full max-w-lg rounded-xl shadow-2xl relative z-10 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b bg-secondary/30",children:(0,t.jsx)("h2",{className:"text-xl font-bold font-display",children:w?"Edit Post":"Create New Post"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,t.jsx)(i.Input,{value:S,onChange:e=>R(e.target.value),required:!0,placeholder:"Market Update - Q3 2025"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Content / Summary"}),(0,t.jsx)("textarea",{value:k,onChange:e=>M(e.target.value),className:"flex min-h-[100px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,t.jsxs)("select",{value:P,onChange:e=>E(e.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",children:[(0,t.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,t.jsx)("option",{value:"PUBLISHED",children:"Published"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),(0,t.jsx)(a.Button,{type:"submit",className:"bg-primary text-primary-foreground",children:w?"Update Post":"Create Draft"})]})]})})]})]})})]})}e.s(["default",()=>B],99645)}]);