{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/Desktop/Antigravity/AurevonWealthGroup/admin/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient()\r\n}\r\n\r\ndeclare const globalThis: {\r\n    prismaGlobal: ReturnType<typeof prismaClientSingleton>;\r\n} & typeof global;\r\n\r\nconst prisma = globalThis.prismaGlobal ?? prismaClientSingleton()\r\n\r\nexport { prisma }\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prismaGlobal = prisma\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,6IAAY;AAC3B;AAMA,MAAM,SAAS,WAAW,YAAY,IAAI;;AAI1C,wCAA2C,WAAW,YAAY,GAAG"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/Desktop/Antigravity/AurevonWealthGroup/admin/src/auth.config.ts"],"sourcesContent":["import type { NextAuthConfig } from 'next-auth';\r\n\r\nexport const authConfig = {\r\n    pages: {\r\n        signIn: '/login',\r\n    },\r\n    callbacks: {\r\n        authorized({ auth, request: { nextUrl } }) {\r\n            const isLoggedIn = !!auth?.user;\r\n            const isAdminPage = nextUrl.pathname.startsWith('/admin');\r\n\r\n            if (isAdminPage) {\r\n                if (isLoggedIn) return true;\r\n                return false; // Redirect unauthenticated users to login page\r\n            }\r\n            return true;\r\n        },\r\n        async session({ session, token }) {\r\n            if (token.sub && session.user) {\r\n                session.user.id = token.sub;\r\n            }\r\n            return session;\r\n        },\r\n        async jwt({ token, user }) {\r\n            if (user) {\r\n                token.role = user.role;\r\n            }\r\n            return token;\r\n        }\r\n    },\r\n    providers: [], // Configured in auth.ts\r\n} satisfies NextAuthConfig;\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,aAAa;IACtB,OAAO;QACH,QAAQ;IACZ;IACA,WAAW;QACP,YAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;YACrC,MAAM,aAAa,CAAC,CAAC,MAAM;YAC3B,MAAM,cAAc,QAAQ,QAAQ,CAAC,UAAU,CAAC;YAEhD,IAAI,aAAa;gBACb,IAAI,YAAY,OAAO;gBACvB,OAAO,OAAO,+CAA+C;YACjE;YACA,OAAO;QACX;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,IAAI,MAAM,GAAG,IAAI,QAAQ,IAAI,EAAE;gBAC3B,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC/B;YACA,OAAO;QACX;QACA,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,IAAI,MAAM;gBACN,MAAM,IAAI,GAAG,KAAK,IAAI;YAC1B;YACA,OAAO;QACX;IACJ;IACA,WAAW,EAAE;AACjB"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/Desktop/Antigravity/AurevonWealthGroup/admin/src/auth.ts"],"sourcesContent":["import NextAuth from 'next-auth';\r\nimport Credentials from 'next-auth/providers/credentials';\r\nimport { z } from 'zod';\r\nimport bcrypt from 'bcryptjs';\r\nimport { prisma } from '@/lib/prisma';\r\nimport { authConfig } from './auth.config';\r\n\r\nexport const { handlers, auth, signIn, signOut } = NextAuth({\r\n    ...authConfig,\r\n    providers: [\r\n        Credentials({\r\n            credentials: {},\r\n            async authorize(credentials) {\r\n                const parsedCredentials = z\r\n                    .object({ email: z.string().email(), password: z.string().min(6) })\r\n                    .safeParse(credentials);\r\n\r\n                if (parsedCredentials.success) {\r\n                    const { email, password } = parsedCredentials.data;\r\n                    const user = await prisma.user.findUnique({ where: { email } });\r\n\r\n                    if (!user) return null;\r\n\r\n                    const passwordsMatch = await bcrypt.compare(password, user.password || '');\r\n\r\n                    if (passwordsMatch) return user;\r\n                }\r\n\r\n                return null;\r\n            },\r\n        }),\r\n    ],\r\n});\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,kKAAQ,EAAC;IACxD,GAAG,8IAAU;IACb,WAAW;QACP,IAAA,uKAAW,EAAC;YACR,aAAa,CAAC;YACd,MAAM,WAAU,WAAW;gBACvB,MAAM,oBAAoB,oLAAC,CACtB,MAAM,CAAC;oBAAE,OAAO,oLAAC,CAAC,MAAM,GAAG,KAAK;oBAAI,UAAU,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC;gBAAG,GAChE,SAAS,CAAC;gBAEf,IAAI,kBAAkB,OAAO,EAAE;oBAC3B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,kBAAkB,IAAI;oBAClD,MAAM,OAAO,MAAM,yIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;wBAAE,OAAO;4BAAE;wBAAM;oBAAE;oBAE7D,IAAI,CAAC,MAAM,OAAO;oBAElB,MAAM,iBAAiB,MAAM,8IAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ,IAAI;oBAEvE,IAAI,gBAAgB,OAAO;gBAC/B;gBAEA,OAAO;YACX;QACJ;KACH;AACL"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/Desktop/Antigravity/AurevonWealthGroup/admin/src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import { handlers } from \"@/auth\"\r\nexport const { GET, POST } = handlers\r\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,kIAAQ"}}]
}